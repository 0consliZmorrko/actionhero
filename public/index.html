<html>
<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8" />
  <meta http-equiv="content-language" content="en" />
  <meta name="description" content="actionHero.js" />
  <link href='http://fonts.googleapis.com/css?family=Merriweather+Sans:400,700,800,300' rel='stylesheet' type='text/css'>
  
  <style type="text/css">
  body {
    background-color: #04819E;
    text-align: center;
    font-family: 'Merriweather Sans', sans-serif;
    color: black;
  }

  .body_container {
    margin:0 auto;
    width: 800px;
    background-color: #FFB100;
    border-radius: 15px;
    margin-top: 20px;
    padding-bottom: 20px;
    border: 5px solid #015367;
  }

  h1 {
    font-weight: 800; 
    font-size: 50px;
    text-shadow: 4px 4px #A61300;
    color: #FF1E00;
  }

  .server_info {
    text-align: left;
  }

  .box{
    border: 1px solid black;
    clear: both;
  }

  .left {
    padding-left: 10px;
    width: 200px;
    float: left;
  }

  .right {
    padding-right: 10px;
    width: 500px;
    float: right;
  }
  </style>

  <script type="text/javascript">
  var actionsView = function(callback){
    var xmlhttp = new XMLHttpRequest();
    xmlhttp.onreadystatechange = function(){
      if (xmlhttp.readyState == 4 && xmlhttp.status == 200){
        var response = JSON.parse(xmlhttp.responseText);
        callback(response);
      }
    }
    xmlhttp.open("GET", "/api/actionsView", true);
    xmlhttp.send();
  }

  var populateServerInfo = function(){
    actionsView(function(data){
      document.getElementById("serverVersion").innerHTML = data.serverInformation.apiVersion;
      document.getElementById("serverName").innerHTML = data.serverInformation.serverName;
      data.actions.forEach(function(action){
        var row = "";
        row += "<div class=\"box\"><div class=\"left\">" + action.name + "</div><div class=\"right\">" + action.description + "</div></div>";
        document.getElementById("actions").innerHTML += row;
      });
    });
  }
  </script>

  <title>actionHero.js</title>
</head>

<body> 

  <div class="body_container">
    <h1>actionHero.js</h1>
    <img src="/public/logo/actionHero.png" width="400px"/>
    <p><strong>Congratulations!</strong> Your server is up and working.</p>
    <p>Learn more @ <a href="http://www.actionherojs.com">www.actionherojs.com</a></p>
  </div>

  <div class="body_container">
    <h2>Server Information:</h2>
    <div class="server_info">
      <div class="box"><div class="left">Server Name:</div><div class="right" id="serverName"></div></div>
      <div class="box"><div class="left">Server Version:</div><div class="right" id="serverVersion"></div></div>
    </div>
  </div>

  <div class="body_container">
    <h2>Actions:</h2>
    <div class="server_info" id="actions">
      
    </div>
  </div>

  <script type="text/javascript">
    populateServerInfo();
  </script>

</body>
</html>
